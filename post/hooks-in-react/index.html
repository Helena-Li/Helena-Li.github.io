<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Hooks in React | Web development</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://Helena-Li.github.io/favicon.ico?v=1623306030883">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://Helena-Li.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://Helena-Li.github.io">
        <img src="https://Helena-Li.github.io/images/avatar.png?v=1623306030883" class="site-logo">
        <h1 class="site-title">Web development</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            Home
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            List of Articles
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            Tags
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            About
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://Helena-Li.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Hooks in React</h2>
            <div class="post-date">2020-03-13</div>
            
            <div class="post-content">
              <h3 id="why-need-to-use-hooks">Why need to use hooks?</h3>
<p>There are 3 drawbacks by using class component in React:</p>
<ol>
<li>Big component is hard to split or restructure</li>
<li>Logic is scattered in methods which can lead to redundant logic.</li>
<li>Coding model is complicated, such as render, props, etc.</li>
</ol>
<p>To simplify coding in React, Hooks is designed, used in pure methods, which don't need class to complete a component. Notice, Hooks don't work inside classes!</p>
<h3 id="build-in-hooks">Build-in Hooks</h3>
<p>There are 4 commonly used hooks: useState(), useContext(), useReducer() and useEffect().</p>
<p>useState() is used when you need to manipulate state in a function.</p>
<pre><code class="language-react">import React, {useState} from &quot;react&quot;

export default function Fruit(){
    //declare hookks, initial value for fruit is banana, setFruit is used to handle changes.
    const [fruit, setFruit]=useState(&quot;banana&quot;);
    
    function handleChange(){
        return setFruit(&quot;orange&quot;);
    }
    return &lt;button onclick={handleChange}&gt;{fruit}&lt;/button&gt;
    // can directly use fruit
}
</code></pre>
<p>useEffect() lets you perform side effects. general ways to use it is to request data. Effects are run after updating the DOM. Unlike componentDidMount, effects don't block the browser from updating the screen. Major effects don't need to happen synchronously, so it makes the app more responsive.</p>
<pre><code class="language-react">function User(Id){
    const [loading, setLoading]=useState(true);
    const [user, setUser]=useState({});
    
    useEffect(()=&gt;{
        setLoading(true);
        fetch(`https://sample/${Id}`)
        .then(response=&gt;response.json())
        .then(data=&gt;{
            setUser(data);
            setLoading(false);
        });
    },[Id]);
    if(loading===true){
        return &lt;p&gt;Loading...&lt;/p&gt;
    }
    
    return(
        &lt;div&gt;
          &lt;p&gt; User name: {user.Name}&lt;/p&gt;
        &lt;/div&gt;
    )
}
</code></pre>
<p>Notice: for needs of executing effect each time there is a update, can delete the second parameter in useEffect(); for needs of render once, can make the second parameter as [], so there is no change for a [], it will only executed once.</p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://Helena-Li.github.io/tag/PPScSOXUk" class="tag">
                    React
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">Next</div>
                <a href="https://Helena-Li.github.io/post/use-ioptions-for-intergration-of-google-docs">
                  <h3 class="post-title">
                    Use IOptions for intergration of Google Docs
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: '',
        owner: '',
        admin: [''],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
